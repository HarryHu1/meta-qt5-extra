From 9c7d9dfdd4c8c9360850cd4712ca2d46afdac62a Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andreas=20M=C3=BCller?= <schnitzeltony@gmail.com>
Date: Sun, 15 Apr 2018 00:20:41 +0200
Subject: [PATCH 3/3] Install headers to /usr/include/libprojectM
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

That is where the were before switching to autotools and where projects expect
them.

Upstream-Status: Submitted [1]

[1] https://github.com/projectM-visualizer/projectm/pull/54#pullrequestreview-112244678

Signed-off-by: Andreas MÃ¼ller <schnitzeltony@gmail.com>
---
 src/Makefile.am             | 4 ++++
 src/libprojectM/Makefile.am | 2 --
 2 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/src/Makefile.am b/src/Makefile.am
index ea0af3a3..85478b4d 100644
--- a/src/Makefile.am
+++ b/src/Makefile.am
@@ -7,3 +7,7 @@ if ENABLE_QT
 endif
 
 SUBDIRS=libprojectM NativePresets ${PROJECTM_SDL_SUBDIR} ${PROJECTM_QT_SUBDIR}
+
+# system headers/libraries/data to install
+# for compatibility reasons here as nobase_include
+nobase_include_HEADERS = libprojectM/projectM.hpp libprojectM/Common.hpp libprojectM/dlldefs.h libprojectM/event.h libprojectM/fatal.h libprojectM/PCM.hpp
diff --git a/src/libprojectM/Makefile.am b/src/libprojectM/Makefile.am
index f102b9fb..12d16cac 100644
--- a/src/libprojectM/Makefile.am
+++ b/src/libprojectM/Makefile.am
@@ -11,8 +11,6 @@ AM_CPPFLAGS = \
 	-I$(top_srcdir)/src/libprojectM/Renderer \
 	$(FTGL_CFLAGS) $(CG_CFLAGS)
 
-# system headers/libraries/data to install
-include_HEADERS = projectM.hpp Common.hpp dlldefs.h event.h fatal.h PCM.hpp
 lib_LTLIBRARIES = libprojectM.la  # public, possibly-shared library
 
 # link flags
-- 
2.14.3

